<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>temp</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <script src="../dist/draw.js"></script>
    <script>
        const d = new Draw({
            width: 1500,
            height: 800
        })

        const center = new Vec3(d.width / 2, d.height / 2)

        d.preload(
            async () => {
            }
        )

        d.setup(
            (ctx) => {
                ctx.lineWidth = 1
                ctx.strokeStyle = 'rgba(200,0,0,1)'
                d.fontSize(30)
            }
        )
        
        d.loop(
            (ctx) => {
                d.clear()
                d.line(center.x, center.y, d.mouseX, d.mouseY)
                d.line(center.x, center.y, d.mouseX, center.y)
                const vecA = Vec3.sub(d.mousePos, center)
                const vecB = Vec3.sub(new Vec3(d.mouseX, center.y), center)
                ctx.fillText(
                    `cos     ${Vec3.dot(vecA, vecB) / (vecA.length * vecB.length)}`,
                    d.mouseX,
                    d.mouseY
                )
                ctx.fillText(
                    `acos   ${Math.acos(Vec3.dot(vecA, vecB) / (vecA.length * vecB.length))}`,
                    d.mouseX,
                    d.mouseY + 40
                )
                ctx.fillText(
                    `angle ${180 * Math.acos(Vec3.dot(vecA, vecB) / (vecA.length * vecB.length)) / Math.PI}`,
                    d.mouseX,
                    d.mouseY + 80
                )
            }
        )

        d.click(
            (e) => {
                if (e === ' ') {
                    d.clear()
                }
            }
        )

    </script>
</body>

</html>