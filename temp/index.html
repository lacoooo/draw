<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>temp</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <script src="../dist/draw.js"></script>
    <script>

        const params = {
            init: {
                width: window.width,
                height: 800
            },
            preload: () => {
                console.log(this)
            },
            setup: (ctx) => {
                d.lineWidth(2)
                d.strokeOpen = true
                d.strokeStyle('rgba(0,0,0,0.3)')
                d.dashline(d.center.x, d.center.y, d.width, d.center.y)
                d.dashline(d.center.x, 0, d.center.x, d.center.y)
            },
            loop: (ctx) => {
                d.strokeStyle('rgba(255,0,0,1)')
                const vec = Vec3.diff(d.mousePos, d.center)
                d.save()
                d.translate(d.center.x, d.center.y)
                // const t = Vec3.superformula(d.frame / 100).mult(200)
                const t = Vec3.swirl(vec, 0.4)
                d.point(t.x, t.y)
                d.restore()
            },
            click: (e) => {
                if (e === " ") {
                    d.clear()
                    d.setup(d.setupParams)
                }
            }
        }

        const d = new Draw(params)

    </script>
</body>

</html>